(this.webpackJsonpproyectov1=this.webpackJsonpproyectov1||[]).push([[0],{78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},92:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(34),s=c.n(a),i=(c(78),c(79),c(80),c(65)),o=c(64),j=c(26),l=c(97),d=c(100),b=(c(81),c.p+"static/media/logo.c309f388.png"),u=c(55),O=c(2);function h(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("button",{className:"cartButton",children:Object(O.jsx)(u.a,{style:{color:"white"}})})})}var m=c(1),x=c.n(m),p=c(37),f=c(5),g=c(14),v=Object(n.createContext)([]),N=function(e){var t=e.item,c=void 0===t?[]:t,r=e.children,a=Object(n.useState)(c),s=Object(g.a)(a,2),i=s[0],o=s[1],j=Object(n.useState)(0),l=Object(g.a)(j,2),d=l[0],b=l[1],u=Object(n.useState)(!1),h=Object(g.a)(u,2),m=h[0],N=h[1],y=i;function C(){return(C=Object(f.a)(x.a.mark((function e(t,c){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===m?alert("no se puede agregar"):(n={product:t,quantity:c},y.push(n),o(y),S(),console.log("cart en add",i));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){var e=0;i.map((function(t){e+=t.quantity})),b(e)}function w(){return(w=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.map((function(e){t===e.product.id?N(!0):N(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsx)(v.Provider,{value:{addItem:function(e,t){return C.apply(this,arguments)},removeItem:function(e){var t=Object(p.a)(i).filter((function(t){return t.product.id!==e}));o(t),S(),console.log("Remove Item",c)},clear:function(){o([]),b(0)},isInCart:function(e){return w.apply(this,arguments)},cartSize:d,cart:i},children:r})},y=v,C=c(6),S=c(68),w=c(27),D=(Object(S.a)({apiKey:"AIzaSyBYjcDyZbcYqMRUBTHJ7ALx6Wl3-bpgowM",authDomain:"coderhouse-ecommerce-c3d13.firebaseapp.com",projectId:"coderhouse-ecommerce-c3d13",storageBucket:"coderhouse-ecommerce-c3d13.appspot.com",messagingSenderId:"126348389548",appId:"1:126348389548:web:d7944a9cc2158702840309"}),Object(w.e)()),k=Object(n.createContext)({}),P=function(e){var t=e.children,c=Object(n.useState)([]),r=Object(g.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)([]),o=Object(g.a)(i,2),j=o[0],l=o[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(f.a)(x.a.mark((function e(){var t,c,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(w.c)(D,"Products"),e.next=3,Object(w.d)(t);case 3:c=e.sent,n=c.docs.map((function(e){return Object(C.a)({id:e.id},e.data())})),console.log(n),s(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(f.a)(x.a.mark((function e(){var t,c,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(w.c)(D,"Categories"),e.next=3,Object(w.d)(t);case 3:c=e.sent,n=c.docs.map((function(e){return Object(C.a)({id:e.id},e.data())})),console.log("Categorias List",n),l(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(O.jsx)(k.Provider,{value:{products:a,setProducts:s,categories:j},children:t})},F=k;function I(){var e=Object(n.useContext)(y),t=Object(n.useContext)(F);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(i.a,{bg:"dark",variant:"dark",children:Object(O.jsxs)(l.a,{children:[Object(O.jsxs)(i.a.Brand,{href:"#home",children:[Object(O.jsx)("img",{alt:"",src:b,width:"30",height:"30",className:"d-inline-block align-top"})," ","Proyecto Vi\xf1es"]}),Object(O.jsxs)(d.a,{className:"me-auto",children:[Object(O.jsx)(j.b,{className:"navBarV d-flex",to:"/",children:"Inicio"}),Object(O.jsx)(j.b,{className:"navBarV d-flex",to:"/",children:" Productos"}),Object(O.jsx)(o.a,{className:"navBarV",title:"Categorias",id:"navbarScrollingDropdown",children:t.categories.map((function(e){return Object(O.jsx)(o.a.Item,{children:Object(O.jsxs)(j.b,{className:"navBarV navBarDropDown",to:"/category/".concat(e.Description),children:[e.Name," "]})},e.Name)}))})]}),Object(O.jsxs)(j.b,{className:"cartSize",to:"/cart",children:[Object(O.jsx)(h,{}),e.cartSize]})]})})})}var B=c(17),E=c(8);function T(){var e=Object(n.useContext)(y),t=Object(n.useState)(0),c=Object(g.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(!1),i=Object(g.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)(!1),b=Object(g.a)(d,2),h=b[0],m=b[1],p=Object(n.useState)(),v=Object(g.a)(p,2),N=v[0],S=v[1],k=Object(n.useState)({name:"",phone:"",email:""}),P=Object(g.a)(k,2),F=P[0],I=P[1];Object(n.useEffect)((function(){!function(){var t=0;e.cart.map((function(e){return t+=e.product.Price*e.quantity})),a(t)}()}));var B=function(e){I(Object(C.a)(Object(C.a)({},F),{},Object(E.a)({},e.target.name,e.target.value))),console.log("userData",F)},T=function(){var t=Object(f.a)(x.a.mark((function t(c){var n,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),console.log("datos enviados",F),n={buyer:F,items:e.cart,date:w.a.fromDate(new Date),total:r},t.next=5,Object(w.b)(Object(w.c)(D,"Orders"),n);case 5:return a=t.sent,console.log("ID de Compra: ",a.id),S(a.id),t.abrupt("return",Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h1",{children:"Fin de compra"})}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[e.cart.length>0&&Object(O.jsxs)("div",{className:"container padding-bottom-3x mb-1",children:[Object(O.jsx)("div",{className:"table-responsive shopping-cart",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Producto"}),Object(O.jsx)("th",{className:"text-center",children:"Cantidad"}),Object(O.jsx)("th",{className:"text-center",children:"Subtotal"}),Object(O.jsx)("th",{className:"text-center",children:"Total"}),Object(O.jsx)("th",{className:"text-center",children:Object(O.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return e.clear()},children:"Vaciar Carrito"})})]})}),Object(O.jsx)("tbody",{children:e.cart.map((function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"product-item",children:[Object(O.jsx)("span",{className:"product-thumb",href:"#",children:Object(O.jsx)("img",{src:t.product.imgUrl,alt:"Product"})}),Object(O.jsxs)("div",{className:"product-info",children:[Object(O.jsx)("h4",{className:"product-title",children:Object(O.jsx)("span",{children:t.product.Name})}),Object(O.jsxs)("span",{children:[Object(O.jsx)("em",{children:"Categoria:"})," ",t.product.Category]})]})]})}),Object(O.jsx)("td",{className:"text-center text-lg text-medium",children:t.quantity}),Object(O.jsxs)("td",{className:"text-center text-lg text-medium",children:["$",t.product.Price]}),Object(O.jsxs)("td",{className:"text-center text-lg text-medium",children:["$",t.product.Price*t.quantity]}),Object(O.jsx)("td",{className:"text-center",children:Object(O.jsx)("button",{class:"remove-from-cart","data-toggle":"tooltip",title:"","data-original-title":"Remove item",children:Object(O.jsx)(u.b,{onClick:function(){return e.removeItem(t.product.id)}})})})]})}))})]})}),Object(O.jsx)("div",{className:"shopping-cart-footer",children:Object(O.jsxs)("div",{className:"column text-lg",children:["Total: ",Object(O.jsxs)("span",{class:"text-medium",children:["$",r]})]})}),Object(O.jsxs)("div",{className:"shopping-cart-footer",children:[Object(O.jsx)("div",{className:"column",children:Object(O.jsx)(j.b,{to:"/",children:Object(O.jsxs)("button",{class:"btn btn-outline-secondary",href:"#",children:[Object(O.jsx)("i",{class:"icon-arrow-left"}),"\xa0Seguir Comprando"]})})}),Object(O.jsx)("div",{className:"column",children:Object(O.jsx)("button",{class:"btn btn-success",onClick:function(){return l(!0),void console.log("Fecha y hora",w.a.fromDate(new Date))},children:"Finalizar Compra"})})]}),!0===o&&Object(O.jsxs)("div",{className:"userData",children:[Object(O.jsx)("h1",{children:"Formulario"}),Object(O.jsxs)("form",{className:"row",onSubmit:T,children:[Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Nombre",className:"form-control",onChange:B,name:"name"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"number",placeholder:"Telefono",className:"form-control",onChange:B,name:"phone"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"email",placeholder:"Email",className:"form-control",onChange:B,name:"email"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"email",placeholder:"Repetir Email",className:"form-control ".concat(h?"":"redBorder"),onChange:function(e){console.log("valor mail",F.email),e.target.value===F.email?(console.log("soy igual",F.email),m(!0)):m(!1)},name:"repemail"})}),Object(O.jsx)("button",{type:"submit",className:"btnSend btn btn-primary ".concat(h?"":"disabled"),children:"Enviar"})]}),void 0!==N&&Object(O.jsxs)("p",{children:["Nro de compra: ",N," "]})]})]}),0===e.cart.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"No hay items en el carrito"}),Object(O.jsx)(j.b,{to:"/",children:"Volver a comprar"})]})]})}var R=c(99),A=c(98);function L(e){var t=Object(n.useContext)(y);return Object(O.jsx)("div",{class:"col-md-4 d-flex justify-content-center",children:Object(O.jsxs)("div",{class:"card p-2",children:[Object(O.jsx)("div",{class:"text-center",children:Object(O.jsx)("img",{src:e.imgUrl,class:"img-fluid",width:"350"})}),Object(O.jsxs)("div",{class:"content",children:[Object(O.jsxs)("div",{class:"d-flex justify-content-between align-items-center",children:[Object(O.jsx)("span",{class:"category",children:e.Name}),Object(O.jsxs)("span",{class:"price",children:["$",e.Price]})]}),Object(O.jsx)("p",{children:e.Category}),Object(O.jsxs)("div",{class:"buttons d-flex justify-content-center",children:[Object(O.jsxs)(j.b,{to:"/item/".concat(e.id),children:[Object(O.jsx)("button",{class:"btn btn-outline-primary mr-1 itemDetail",children:" Detalle "})," "]}),Object(O.jsx)("button",{class:"btn btn-primary itemAdd",onClick:function(){return t.addItem(e,1)},children:"Agregar"})]})]})]})})}function V(e){var t=Object(n.useState)([]),c=Object(g.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(!0),i=Object(g.a)(s,2),o=i[0],j=i[1],l=Object(n.useContext)(F).products;return Object(n.useEffect)((function(){(function(){var t=Object(f.a)(x.a.mark((function t(c){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j(!0),void 0===c.category?a(l):(n=l.filter((function(t){return t.Category===e.category})),a(n)),j(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}})()(e)}),[e.category,l]),Object(O.jsxs)(O.Fragment,{children:[o&&Object(O.jsx)("h1",{children:"Loading!"}),!o&&Object(O.jsx)(O.Fragment,{children:r.map((function(e){return Object(n.createElement)(L,Object(C.a)(Object(C.a)({},e),{},{key:e.id}))}))})]})}function q(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(l.a,{fluid:!0,children:Object(O.jsx)(A.a,{className:"asd",children:Object(O.jsx)(R.a,{className:"pPrincipal d-flex align-items-center justify-content-center",children:Object(O.jsx)("h1",{children:"Productos"})})})})})}function z(){var e=Object(B.f)().id;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(q,{}),Object(O.jsx)(l.a,{fluid:!0,children:Object(O.jsx)(R.a,{lg:"8",className:"contenedor",children:Object(O.jsx)(A.a,{xs:2,md:4,lg:7,children:Object(O.jsx)(V,{category:e})})})})]})}function U(e){var t=Object(n.useState)(1),c=Object(g.a)(t,2),r=c[0],a=c[1],s=Object(n.useContext)(y);Object(n.useEffect)((function(){}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{class:"section",style:{paddingBottom:"20px"},children:[Object(O.jsx)("h6",{class:"title-attr",children:Object(O.jsx)("small",{children:"CANTIDAD"})}),Object(O.jsxs)("div",{className:"productStock col-12",children:[Object(O.jsx)("button",{className:"col-4",onClick:function(){var e=r-1;e>=1&&a(e)},children:"-"}),Object(O.jsx)("button",{className:"col-4",children:r}),Object(O.jsx)("button",{className:"col-4",onClick:function(){var t=r+1;t<=e.Stock&&a(t)},children:"+"})]})]}),Object(O.jsx)("div",{class:"section",style:{paddingBottom:"20px"},children:Object(O.jsx)("button",{onClick:function(){return t=e,c=r,void s.addItem(t,c);var t,c},class:"btn btn-success",children:"Agregar al carro"})})]})}function $(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"container itemDetailContainer",children:Object(O.jsxs)("div",{className:"row justify-content-center",children:[Object(O.jsx)("div",{className:"col-5 item-photo",children:Object(O.jsx)("img",{style:{maxWidth:"500px"},src:e.imgUrl,alt:"Imagen Producto"})}),Object(O.jsxs)("div",{className:"col-4",children:[Object(O.jsx)("h3",{children:e.Name}),Object(O.jsxs)("h5",{style:{color:"#337ab7"},children:["Categoria ",Object(O.jsx)("span",{children:e.Category})," \xb7 "]}),Object(O.jsx)("h6",{className:"title-price",children:Object(O.jsx)("small",{children:"PRECIO"})}),Object(O.jsxs)("h3",{style:{marginTop:"0px"},children:["$",e.Price]}),Object(O.jsx)(U,Object(C.a)({},e))]}),Object(O.jsx)("div",{className:"row justify-content-center",children:Object(O.jsxs)("div",{className:"col-9",children:[Object(O.jsx)("h4",{children:"Descripci\xf3n del Producto:"}),Object(O.jsxs)("p",{children:[" ",e.Description," "]})]})})]})})})}function H(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(g.a)(a,2),i=s[0],o=s[1],j=Object(n.useState)(!1),l=Object(g.a)(j,2),d=l[0],b=l[1],u=Object(n.useContext)(F),h=Object(B.f)().id;return Object(n.useEffect)((function(){new Promise((function(e,t){e(u.products.filter((function(e){return e.id===h}))),o(!0)})).then((function(e){void 0!==e[0]?(r(e[0]),console.log("response IDC",e)):b(!0)})).catch((function(e){alert("Hubo un error")})).finally((function(){o(!1)}))}),[]),i?Object(O.jsx)("h1",{children:"Loading...."}):d?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h1",{children:"NO SE ENCONTRO EL PRODUCTO"})}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{children:Object(O.jsx)($,Object(C.a)({},c))})})}var J=function(){return Object(O.jsx)(N,{children:Object(O.jsx)(P,{children:Object(O.jsxs)(j.a,{basename:"/CHReactv2",children:[Object(O.jsx)(I,{}),Object(O.jsxs)(B.c,{children:[Object(O.jsx)(B.a,{exact:!0,path:"/",children:Object(O.jsx)(z,{})}),Object(O.jsx)(B.a,{exact:!0,path:"/category/:id",children:Object(O.jsx)(z,{})}),Object(O.jsx)(B.a,{exact:!0,path:"/item/:id",children:Object(O.jsx)(H,{})}),Object(O.jsx)(B.a,{exact:!0,path:"/cart",children:Object(O.jsx)(T,{})})]})]})})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,101)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(J,{})}),document.getElementById("root")),M()}},[[92,1,2]]]);
//# sourceMappingURL=main.b0021ad9.chunk.js.map