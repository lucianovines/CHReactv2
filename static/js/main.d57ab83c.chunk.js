(this.webpackJsonpproyectov1=this.webpackJsonpproyectov1||[]).push([[0],{78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},92:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(34),s=c.n(r),i=(c(78),c(79),c(80),c(65)),o=c(64),l=c(30),j=c(97),d=c(100),b=(c(81),c.p+"static/media/logo.c309f388.png"),u=c(56),O=c(2);function m(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("button",{className:"cartButton",children:Object(O.jsx)(u.a,{style:{color:"white"}})})})}var h=c(1),x=c.n(h),p=c(37),f=c(5),g=c(14),v=Object(n.createContext)([]),N=function(e){var t=e.item,c=void 0===t?[]:t,a=e.children,r=Object(n.useState)(c),s=Object(g.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(0),j=Object(g.a)(l,2),d=j[0],b=j[1],u=Object(n.useState)(!1),m=Object(g.a)(u,2),h=m[0],N=m[1],y=i;function C(){return(C=Object(f.a)(x.a.mark((function e(t,c){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===h?alert("no se puede agregar"):(n={product:t,quantity:c},y.push(n),o(y),S(),console.log("cart en add",i));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){var e=0;i.map((function(t){e+=t.quantity})),b(e)}function w(){return(w=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.map((function(e){t===e.product.id?N(!0):N(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsx)(v.Provider,{value:{addItem:function(e,t){return C.apply(this,arguments)},removeItem:function(e){var t=Object(p.a)(i).filter((function(t){return t.product.id!==e}));o(t),S(),console.log("Remove Item",c)},clear:function(){o([]),b(0)},isInCart:function(e){return w.apply(this,arguments)},cartSize:d,cart:i},children:a})},y=v,C=c(6),S=c(68),w=c(26),D=(Object(S.a)({apiKey:"AIzaSyBYjcDyZbcYqMRUBTHJ7ALx6Wl3-bpgowM",authDomain:"coderhouse-ecommerce-c3d13.firebaseapp.com",projectId:"coderhouse-ecommerce-c3d13",storageBucket:"coderhouse-ecommerce-c3d13.appspot.com",messagingSenderId:"126348389548",appId:"1:126348389548:web:d7944a9cc2158702840309"}),Object(w.e)()),P=Object(n.createContext)({}),k=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(g.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)([]),o=Object(g.a)(i,2),l=o[0],j=o[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(f.a)(x.a.mark((function e(){var t,c,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(w.c)(D,"Products"),e.next=3,Object(w.d)(t);case 3:c=e.sent,n=c.docs.map((function(e){return Object(C.a)({id:e.id},e.data())})),console.log(n),s(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(f.a)(x.a.mark((function e(){var t,c,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(w.c)(D,"Categories"),e.next=3,Object(w.d)(t);case 3:c=e.sent,n=c.docs.map((function(e){return Object(C.a)({id:e.id},e.data())})),console.log("Categorias List",n),j(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(O.jsx)(P.Provider,{value:{products:r,setProducts:s,categories:l},children:t})},I=P;function F(){var e=Object(n.useContext)(y),t=Object(n.useContext)(I);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(i.a,{bg:"dark",variant:"dark",children:Object(O.jsxs)(j.a,{children:[Object(O.jsxs)(i.a.Brand,{href:"#home",children:[Object(O.jsx)("img",{alt:"",src:b,width:"30",height:"30",className:"d-inline-block align-top"})," ","Proyecto Vi\xf1es"]}),Object(O.jsxs)(d.a,{className:"me-auto",children:[Object(O.jsx)(l.b,{className:"navBarV d-flex",to:"/",children:"Inicio"}),Object(O.jsx)(l.b,{className:"navBarV d-flex",to:"/",children:" Productos"}),Object(O.jsx)(o.a,{className:"navBarV",title:"Categorias",id:"navbarScrollingDropdown",children:t.categories.map((function(e){return Object(O.jsx)(o.a.Item,{children:Object(O.jsxs)(l.b,{className:"navBarV navBarDropDown",to:"/category/".concat(e.Description),children:[e.Name," "]})},e.Name)}))})]}),Object(O.jsxs)(l.b,{className:"cartSize",to:"/cart",children:[Object(O.jsx)(m,{}),e.cartSize]})]})})})}var B=c(17),E=c(8);function T(){var e=Object(n.useContext)(y),t=Object(n.useState)(0),c=Object(g.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),i=Object(g.a)(s,2),o=i[0],j=i[1],d=Object(n.useState)(!1),b=Object(g.a)(d,2),m=b[0],h=b[1],p=Object(n.useState)({name:"",phone:"",email:""}),v=Object(g.a)(p,2),N=v[0],S=v[1];Object(n.useEffect)((function(){!function(){var t=0;e.cart.map((function(e){return t+=e.product.Price*e.quantity})),r(t)}()}));var P=function(e){S(Object(C.a)(Object(C.a)({},N),{},Object(E.a)({},e.target.name,e.target.value))),console.log("userData",N)},k=function(){var t=Object(f.a)(x.a.mark((function t(c){var n,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),console.log("datos enviados",N),n={buyer:N,items:e.cart,date:w.a.fromDate(new Date),total:a},t.next=5,Object(w.b)(Object(w.c)(D,"Orders"),n);case 5:r=t.sent,console.log("ID de Compra: ",r.id);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[e.cart.length>0&&Object(O.jsxs)("div",{className:"container padding-bottom-3x mb-1",children:[Object(O.jsx)("div",{className:"table-responsive shopping-cart",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Producto"}),Object(O.jsx)("th",{className:"text-center",children:"Cantidad"}),Object(O.jsx)("th",{className:"text-center",children:"Subtotal"}),Object(O.jsx)("th",{className:"text-center",children:"Total"}),Object(O.jsx)("th",{className:"text-center",children:Object(O.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return e.clear()},children:"Vaciar Carrito"})})]})}),Object(O.jsx)("tbody",{children:e.cart.map((function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"product-item",children:[Object(O.jsx)("span",{className:"product-thumb",href:"#",children:Object(O.jsx)("img",{src:t.product.imgUrl,alt:"Product"})}),Object(O.jsxs)("div",{className:"product-info",children:[Object(O.jsx)("h4",{className:"product-title",children:Object(O.jsx)("span",{children:t.product.Name})}),Object(O.jsxs)("span",{children:[Object(O.jsx)("em",{children:"Categoria:"})," ",t.product.Category]})]})]})}),Object(O.jsx)("td",{className:"text-center text-lg text-medium",children:t.quantity}),Object(O.jsxs)("td",{className:"text-center text-lg text-medium",children:["$",t.product.Price]}),Object(O.jsxs)("td",{className:"text-center text-lg text-medium",children:["$",t.product.Price*t.quantity]}),Object(O.jsx)("td",{className:"text-center",children:Object(O.jsx)("button",{class:"remove-from-cart","data-toggle":"tooltip",title:"","data-original-title":"Remove item",children:Object(O.jsx)(u.b,{onClick:function(){return e.removeItem(t.product.id)}})})})]})}))})]})}),Object(O.jsx)("div",{className:"shopping-cart-footer",children:Object(O.jsxs)("div",{className:"column text-lg",children:["Total: ",Object(O.jsxs)("span",{class:"text-medium",children:["$",a]})]})}),Object(O.jsxs)("div",{className:"shopping-cart-footer",children:[Object(O.jsx)("div",{className:"column",children:Object(O.jsxs)("button",{class:"btn btn-outline-secondary",href:"#",children:[Object(O.jsx)("i",{class:"icon-arrow-left"}),"\xa0Seguir Comprando"]})}),Object(O.jsx)("div",{className:"column",children:Object(O.jsx)("button",{class:"btn btn-success",onClick:function(){return j(!0),void console.log("Fecha y hora",w.a.fromDate(new Date))},children:"Finalizar Compra"})})]}),!0===o&&Object(O.jsxs)("div",{className:"userData",children:[Object(O.jsx)("h1",{children:"Formulario"}),Object(O.jsxs)("form",{className:"row",onSubmit:k,children:[Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"text",placeholder:"Nombre",className:"form-control",onChange:P,name:"name"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"number",placeholder:"Telefono",className:"form-control",onChange:P,name:"phone"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"email",placeholder:"Email",className:"form-control",onChange:P,name:"email"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("input",{type:"email",placeholder:"Repetir Email",className:"form-control ".concat(m?"":"redBorder"),onChange:function(e){console.log("valor mail",N.email),e.target.value===N.email?(console.log("soy igual",N.email),h(!0)):h(!1)},name:"repemail"})}),Object(O.jsx)("button",{type:"submit",className:"btnSend btn btn-primary ".concat(m?"":"disabled"),children:"Enviar"})]})]})]}),0===e.cart.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"No hay items en el carrito"}),Object(O.jsx)(l.b,{to:"/",children:"Volver a comprar"})]})]})}var L=c(98),R=c(99);function V(e){return Object(O.jsx)(L.a,{children:Object(O.jsxs)("div",{className:"card border-dark",children:[Object(O.jsx)("img",{src:e.imgUrl,className:"card-img-top",alt:"imgprod"}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("h5",{className:"card-title",children:e.Name}),Object(O.jsxs)("p",{className:"card-text",children:[e.Description,"."]}),Object(O.jsxs)("p",{className:"card-text-price",children:["$",e.Price]}),Object(O.jsxs)("div",{className:"row itemButtons",children:[Object(O.jsx)("div",{className:"col-6 buttonDetail",children:Object(O.jsx)("button",{children:"Hola"})}),Object(O.jsx)("div",{className:"col-6 buttonAdd",children:Object(O.jsx)("button",{children:"Hola"})})]}),Object(O.jsx)(l.b,{to:"/item/".concat(e.id),children:" Detalle "})]})]})})}function q(e){var t=Object(n.useState)([]),c=Object(g.a)(t,2),a=c[0],r=c[1],s=Object(n.useContext)(I).products;console.log("Itemes en List",s);return Object(n.useEffect)((function(){!function(){if(void 0===e.category)r(s);else{var t=s.filter((function(t){return t.Category===e.category}));r(t)}}()}),[e.category,s]),Object(O.jsx)(O.Fragment,{children:a.map((function(e){return Object(n.createElement)(V,Object(C.a)(Object(C.a)({},e),{},{key:e.id}))}))})}function A(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(j.a,{fluid:!0,children:Object(O.jsx)(R.a,{className:"asd",children:Object(O.jsx)(L.a,{className:"pPrincipal d-flex align-items-center justify-content-center",children:Object(O.jsx)("h1",{children:"Productos"})})})})})}function z(){var e=Object(B.f)().id;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(A,{}),Object(O.jsx)(j.a,{fluid:!0,children:Object(O.jsx)(L.a,{lg:"8",className:"contenedor",children:Object(O.jsx)(R.a,{xs:2,md:4,lg:7,children:Object(O.jsx)(q,{category:e})})})})]})}function U(e){var t=Object(n.useState)(0),c=Object(g.a)(t,2),a=c[0],r=c[1],s=Object(n.useContext)(y);Object(n.useEffect)((function(){}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{class:"section",style:{paddingBottom:"20px"},children:[Object(O.jsx)("h6",{class:"title-attr",children:Object(O.jsx)("small",{children:"CANTIDAD"})}),Object(O.jsxs)("div",{className:"productStock col-12",children:[Object(O.jsx)("button",{className:"col-4",onClick:function(){var e=a-1;e>=1&&r(e)},children:"-"}),Object(O.jsx)("button",{className:"col-4",children:a}),Object(O.jsx)("button",{className:"col-4",onClick:function(){var t=a+1;t<=e.Stock&&r(t)},children:"+"})]})]}),Object(O.jsx)("div",{class:"section",style:{paddingBottom:"20px"},children:Object(O.jsx)("button",{onClick:function(){return t=e,c=a,void s.addItem(t,c);var t,c},class:"btn btn-success",children:"Agregar al carro"})})]})}function $(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"container itemDetailContainer",children:Object(O.jsxs)("div",{className:"row justify-content-center",children:[Object(O.jsx)("div",{className:"col-5 item-photo",children:Object(O.jsx)("img",{style:{maxWidth:"500px"},src:e.imgUrl,alt:"Imagen Producto"})}),Object(O.jsxs)("div",{className:"col-4",children:[Object(O.jsx)("h3",{children:e.Name}),Object(O.jsxs)("h5",{style:{color:"#337ab7"},children:["Categoria ",Object(O.jsx)("span",{children:e.Category})," \xb7 "]}),Object(O.jsx)("h6",{className:"title-price",children:Object(O.jsx)("small",{children:"PRECIO"})}),Object(O.jsxs)("h3",{style:{marginTop:"0px"},children:["$",e.Price]}),Object(O.jsx)(U,Object(C.a)({},e))]}),Object(O.jsx)("div",{className:"row justify-content-center",children:Object(O.jsxs)("div",{className:"col-9",children:[Object(O.jsx)("h4",{children:"Descripci\xf3n del Producto:"}),Object(O.jsxs)("p",{children:[" ",e.Description," "]})]})})]})})})}function H(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(g.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(!1),j=Object(g.a)(l,2),d=j[0],b=j[1],u=Object(n.useContext)(I),m=Object(B.f)().id;return Object(n.useEffect)((function(){new Promise((function(e,t){e(u.products.filter((function(e){return e.id===m}))),o(!0)})).then((function(e){void 0!==e[0]?(a(e[0]),console.log("response IDC",e)):b(!0)})).catch((function(e){alert("Hubo un error")})).finally((function(){o(!1)}))}),[]),i?Object(O.jsx)("h1",{children:"Loading...."}):d?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h1",{children:"NO SE ENCONTRO EL PRODUCTO"})}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{children:Object(O.jsx)($,Object(C.a)({},c))})})}var J=function(){return Object(O.jsx)(N,{children:Object(O.jsx)(k,{children:Object(O.jsxs)(l.a,{children:[Object(O.jsx)(F,{}),Object(O.jsxs)(B.c,{children:[Object(O.jsx)(B.a,{exact:!0,path:"/",children:Object(O.jsx)(z,{})}),Object(O.jsx)(B.a,{exact:!0,path:"/category/:id",children:Object(O.jsx)(z,{})}),Object(O.jsx)(B.a,{exact:!0,path:"/item/:id",children:Object(O.jsx)(H,{})}),Object(O.jsx)(B.a,{exact:!0,path:"/cart",children:Object(O.jsx)(T,{})})]})]})})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,101)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(J,{})}),document.getElementById("root")),M()}},[[92,1,2]]]);
//# sourceMappingURL=main.d57ab83c.chunk.js.map